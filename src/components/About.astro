---
import CodeIcon from './icons/Code.astro';
import RocketIcon from './icons/Rocket.astro';
import HeartIcon from './icons/Heart.astro';
import site from '../content/site.json';

const ICONS = {
  code: CodeIcon,
  rocket: RocketIcon,
  heart: HeartIcon,
};
const about = site.about;
---

<section id="about" class="py-20 relative">
  <div class="container mx-auto px-4">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-2 glow-text">{about.title}</h2>
        <div class="w-20 h-1 bg-gradient-to-r from-primary to-secondary mx-auto"></div>
      </div>

      <div class="grid md:grid-cols-2 gap-10 items-start">
        <!-- Left: Intro + CTAs -->
        <div class="space-y-6 animate-slide-in-left">
          {about.intro.map((p) => <p class="text-lg text-muted-foreground leading-relaxed">{p}</p>)}

          <div class="flex flex-wrap gap-3">
            <a
              href={about.ctas.cv}
              download
              class="inline-flex items-center gap-2 px-5 py-3 bg-primary text-primary-foreground rounded-md shadow hover:bg-primary/90 transition"
              aria-label="Download CV"
            >
              Descargar CV
            </a>
            <button
              class="inline-flex items-center gap-2 px-5 py-3 border border-border rounded-md hover:glow-border"
              onclick={`document.querySelector('${about.ctas.contact}')?.scrollIntoView({ behavior: 'smooth' })`}
              aria-label="Scroll to Contact Section"
            >
              Cont√°ctame
            </button>
          </div>
        </div>

        <!-- Right: Highlights -->
        <div class="animate-slide-in-right">
          <div class="grid grid-cols-1 gap-4">
            {
              about.highlights.map((item) => {
                const Icon = ICONS[item.icon];
                return (
                  <div class="glass-card p-6 rounded-2xl flex items-start gap-4 hover:glow-border transition-all">
                    <div class="w-12 h-12 flex items-center justify-center rounded-lg bg-gradient-to-br from-primary to-secondary text-background">
                      <Icon class="w-6 h-6" />
                    </div>
                    <div>
                      <h3 class="font-semibold text-lg">{item.title}</h3>
                      <p class="text-sm text-muted-foreground mt-1">{item.description}</p>
                    </div>
                  </div>
                );
              })
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
